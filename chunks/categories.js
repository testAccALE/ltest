(self.webpackChunk=self.webpackChunk||[]).push([[5],{3486:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});const a={data:function(){return{subPageSource:{collection:null,name:null,wishlist:!1,library:!1,books:!1}}},methods:{findSubPageSource:function(){var e=this.$route.query.subPageSource||this.$store.state.sticky.subPageSource;return{collection:this.$store.state.library[e],name:e,wishlist:"wishlist"===e,library:"books"===e,books:"books"===e}}},watch:{"$route.query.subPageSource":function(e){!this.$route.meta.gallery&&this.$route.meta.subPage&&(this.listReady=!1,this.subPageSource=this.findSubPageSource(),this.$nextTick((function(){this.makeCollection()})))}},beforeCreate:function(){this.$store.commit("prop",{key:"pageCollection",value:[]}),this.$store.commit("prop",{key:"mutatingCollection",value:[]})},created:function(){this.$route.meta.subPage&&(this.subPageSource=this.findSubPageSource()),!this.$route.meta.gallery&&this.$route.meta.subPage&&this.makeCollection()}}},730:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a}),s(2759),s(2077),s(895),s(2482),s(911),s(3238);const a={methods:{slugify:function(e){var t="àáâäæãåāăąçćčđďèéêëēėęěğǵḧîïíīįìłḿñńǹňôöòóœøōõőṕŕřßśšşșťțûüùúūǘůűųẃẍÿýžźż·/_,:;",s=new RegExp(t.split("").join("|"),"g");return encodeURIComponent(e.toString().toLowerCase().replace(/\s+/g,"-").replace(s,(function(e){return"aaaaaaaaaacccddeeeeeeeegghiiiiiilmnnnnoooooooooprrsssssttuuuuuuuuuwxyyzzz------".charAt(t.indexOf(e))})).replace(/&/g,"-and-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,""))}}}},5070:(e,t,s)=>{var a=s(930),r=s(8759),i=s(7530);e.exports=function(e,t,s){var o,n;return i&&a(o=t.constructor)&&o!==s&&r(n=o.prototype)&&n!==s.prototype&&i(e,n),e}},1632:(e,t,s)=>{var a=s(7826).f;e.exports=function(e,t,s){s in e||a(e,s,{configurable:!0,get:function(){return t[s]},set:function(e){t[s]=e}})}},2759:(e,t,s)=>{var a=s(5283),r=s(2086),i=s(8240),o=s(7189),n=s(5070),u=s(2585),l=s(62).f,c=s(5516),g=s(7994),p=s(4059),h=s(9028),b=s(4930),m=s(1632),y=s(1007),v=s(3677),f=s(9606),d=s(3278).enforce,k=s(7420),_=s(211),S=s(2582),$=s(2910),P=_("match"),w=r.RegExp,T=w.prototype,C=r.SyntaxError,x=i(T.exec),R=i("".charAt),q=i("".replace),E=i("".indexOf),Z=i("".slice),z=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,A=/a/g,B=/a/g,D=new w(A)!==A,I=b.MISSED_STICKY,L=b.UNSUPPORTED_Y;if(o("RegExp",a&&(!D||I||S||$||v((function(){return B[P]=!1,w(A)!=A||w(B)==B||"/a/i"!=w(A,"i")}))))){for(var Q=function(e,t){var s,a,r,i,o,l,b=c(T,this),m=g(e),y=void 0===t,v=[],k=e;if(!b&&m&&y&&e.constructor===Q)return e;if((m||c(T,e))&&(e=e.source,y&&(t=h(k))),e=void 0===e?"":p(e),t=void 0===t?"":p(t),k=e,S&&"dotAll"in A&&(a=!!t&&E(t,"s")>-1)&&(t=q(t,/s/g,"")),s=t,I&&"sticky"in A&&(r=!!t&&E(t,"y")>-1)&&L&&(t=q(t,/y/g,"")),$&&(i=function(e){for(var t,s=e.length,a=0,r="",i=[],o={},n=!1,u=!1,l=0,c="";a<=s;a++){if("\\"===(t=R(e,a)))t+=R(e,++a);else if("]"===t)n=!1;else if(!n)switch(!0){case"["===t:n=!0;break;case"("===t:x(z,Z(e,a+1))&&(a+=2,u=!0),r+=t,l++;continue;case">"===t&&u:if(""===c||f(o,c))throw new C("Invalid capture group name");o[c]=!0,i[i.length]=[c,l],u=!1,c="";continue}u?c+=t:r+=t}return[r,i]}(e),e=i[0],v=i[1]),o=n(w(e,t),b?this:T,Q),(a||r||v.length)&&(l=d(o),a&&(l.dotAll=!0,l.raw=Q(function(e){for(var t,s=e.length,a=0,r="",i=!1;a<=s;a++)"\\"!==(t=R(e,a))?i||"."!==t?("["===t?i=!0:"]"===t&&(i=!1),r+=t):r+="[\\s\\S]":r+=t+R(e,++a);return r}(e),s)),r&&(l.sticky=!0),v.length&&(l.groups=v)),e!==k)try{u(o,"source",""===k?"(?:)":k)}catch(e){}return o},U=l(w),M=0;U.length>M;)m(Q,w,U[M++]);T.constructor=Q,Q.prototype=T,y(r,"RegExp",Q)}k("RegExp")},6726:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>l}),s(8010),s(3238),s(2327);var a=s(730),r=s(3657),i=s(9846),o=s(2320),n=s(3486);const u={name:"aleCategories",mixins:[a.Z,r.Z,n.Z],components:{pageTitle:i.Z,libraryWishlistSwitcher:o.Z},data:function(){return{categories:null,listReady:!1,pageTitle:"Categories",pageSubTitle:null}},methods:{getRandomBooks:function(e,t){var s=_.filter(e,(function(e){return e.categories&&e.categories.length>1&&e.cover}));return _.sampleSize(s,t)},makeCollection:function(){var e=this,t={parent:[]};_.each(e.subPageSource.collection,(function(s,a){if(s.categories){var r=s.categories[0].name,i=_.find(t.parent,["name",r]);if(i||(i=t.parent.push({name:r,slug:e.slugify(r),books:[]})),(i=_.find(t.parent,["name",r])).books.push(s),s.categories[1]){i.sub||(i.sub=[]);var o=s.categories[1].name,n=_.find(i.sub,["name",o]);n||(n=i.sub.push({name:o,slug:e.slugify(o),books:[]})),(n=_.find(i.sub,["name",o])).books.push(s)}}})),t.parent=_.orderBy(t.parent,"name","asc"),_.each(t.parent,(function(e,t){e.sub=_.orderBy(e.sub,"name","asc")})),this.categories=t.parent,this.$store.commit("prop",{key:"pageCollection",value:[]}),this.$store.commit("prop",{key:"mutatingCollection",value:[]}),this.listReady=!0}}},l=(0,s(810).Z)(u,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.listReady?s("div",{staticClass:"box-layout-wrapper",attrs:{id:"ale-categories"}},[e.pageTitle||e.pageSubTitle?s("page-title",{attrs:{pageTitle:e.pageTitle,pageSubTitle:e.pageSubTitle}}):e._e(),e._v(" "),s("library-wishlist-switcher"),e._v(" "),e._l(e.categories,(function(t,a){return t&&t.name?s("div",{key:t.name,staticClass:"single-box",attrs:{"data-category":t.name}},[s("h2",[t.slug?s("router-link",{attrs:{to:{name:"category",params:{parent:t.slug,child:void 0},query:{subPageSource:e.subPageSource.name}}}},[e._v("\n        "+e._s(t.name)+"\n      ")]):s("span",[e._v(e._s(t.name))])],1),e._v(" "),t.slug?s("router-link",{staticClass:"books-total",attrs:{to:{name:"category",params:{parent:t.slug,child:void 0},query:{subPageSource:e.subPageSource.name}}}},[t.books?s("div",{directives:[{name:"tippy",rawName:"v-tippy",value:{placement:"right"},expression:"{ placement: 'right' }"}],attrs:{content:"Total number of books in this category."},domProps:{innerHTML:e._s(t.books.length)}}):e._e()]):t.books?s("div",{directives:[{name:"tippy",rawName:"v-tippy",value:{placement:"right"},expression:"{ placement: 'right' }"}],attrs:{content:"Total number of books in this category."},domProps:{innerHTML:e._s(t.books.length)}}):e._e(),e._v(" "),t.sub?s("div",{staticClass:"child-categories"},e._l(t.sub,(function(a,r){return a&&a.name?s("div",{key:a.name},[t&&t.slug&&a&&a.slug?s("router-link",{attrs:{to:{name:"category",params:{parent:t.slug,child:a.slug},query:{subPageSource:e.subPageSource.name}}}},[e._v("\n          "+e._s(a.name)+"\n        ")]):s("span"),e._v(" "),a.books?s("span",{staticClass:"number-of-books"},[e._v("("+e._s(a.books.length)+")")]):e._e()],1):e._e()})),0):e._e(),e._v(" "),s("div",{staticClass:"sample-covers"},e._l(e.getRandomBooks(t.books,5),(function(a,r){return t&&t.books?s("div",{key:a.asin,staticClass:"sample-cover"},[s("router-link",{attrs:{to:{name:"category",params:{parent:a.categories[0]?e.slugify(a.categories[0].name):null,child:a.categories[1]?e.slugify(a.categories[1].name):null},query:{book:a.asin,subPageSource:e.subPageSource.name}}}},[s("img",{attrs:{crossorigin:"anonymous",src:e.makeCoverUrl(a.cover),alt:""}})])],1):e._e()})),0)],1):e._e()}))],2):e._e()}),[],!1,null,"e469ea1c",null).exports},2320:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});const a=(0,s(810).Z)({name:"libraryWishlistSwitcher",props:["aboveSearch"],created:function(){},methods:{switcher:function(e){this.$updateQuery({query:"sort",value:null}),this.$updateQuery({query:"sortDir",value:null}),this.$updateQuery({query:"filterExtras",value:null}),this.$updateQuery({query:"subPageSource",value:e}),this.$store.commit("stickyProp",{key:"subPageSource",value:e})}}},(function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.$route.meta.subPage&&!e.$route.meta.gallery&&(e.$store.state.library.books||e.$store.state.library.extras.pages.books)&&(e.$store.state.library.wishlist||e.$store.state.library.extras.pages.wishlist)?s("div",{class:{"above-search":e.aboveSearch},attrs:{id:"library-wishlist-switcher"}},[s("button",{class:{active:"books"===(e.$route.query.subPageSource||e.$store.state.sticky.subPageSource)},on:{click:function(t){return e.switcher("books")}}},[e._v("\n    Library\n  ")]),e._v(" "),s("button",{class:{active:"wishlist"===(e.$route.query.subPageSource||e.$store.state.sticky.subPageSource)},on:{click:function(t){return e.switcher("wishlist")}}},[e._v("\n    Wishlist\n  ")])]):e._e()}),[],!1,null,"63d5353c",null).exports},9846:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});const a=(0,s(810).Z)({name:"pageTitle",props:["pageTitle","pageSubTitle"],mounted:function(){this.pageTitle&&this.$store.commit("prop",{key:"pageTitle",value:this.pageTitle}),this.pageSubTitle&&this.$store.commit("prop",{key:"pageSubTitle",value:this.pageSubTitle})},beforeDestroy:function(){this.$store.commit("prop",{key:"pageTitle",value:null})}},(function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.pageTitle||e.pageSubTitle?s("div",{staticClass:"gallery-title-wrapper"},[e.pageTitle?s("h2",{staticClass:"gallery-title"},[e._v("\n    "+e._s(e.pageTitle)+"\n  ")]):e._e(),e._v(" "),s("div",{staticClass:"divider"}),e._v(" "),e.pageSubTitle?s("h3",{staticClass:"gallery-sub-title"},[e._v("\n    "+e._s(e.pageSubTitle)+"\n  ")]):e._e()]):e._e()}),[],!1,null,null,null).exports}}]);